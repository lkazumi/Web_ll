<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui" >
<h:head>
	<title>Lista de Cargos</title>
</h:head>
<h:body>
	<h:form>
	    <p:menubar>
             <p:submenu label="Menu">
		        <p:menuitem value="Menu" outcome="menu" />
		     </p:submenu>
		
			<p:submenu label="Cadastro">
			    <p:menuitem value="Cargo" outcome="cadastroCargo.xhtml" />
			    <p:menuitem value="Funcionario" outcome="cadastroFuncionario.xhtml" />
			</p:submenu>
			
			<p:submenu label="lista">
				<p:menuitem value="Listagem de Cargos" outcome="listaCargo.xhtml" />
				<p:menuitem value="Listagem de Funcionarios" outcome="listaFuncionario.xhtml" />
			</p:submenu>
			
		</p:menubar>
		<h1>Lista Cargos</h1>
		<p:dataTable value="#{cargoControllerMike.lista}" var="car" 
			         border="1" id="categ" paginator="true" rows="5" 
			         emptyMessage="Nenhum Cargo cadastrado!">
			         
		  	<p:column headerText="Id">
				<h:outputText value="#{car.id}" />
			</p:column>

			<p:column headerText="Cargo">
				<h:outputText value="#{car.cargo}" />
			</p:column>

            <p:column headerText="Ação">
					<p:commandButton value="Excluir"
						action="#{cargoControllerMike.excluir}"
						onclick="return confirm('Confirma a exclusão?')"
						ajax="false">
						<f:setPropertyActionListener 
							value="#{car}" 
						    target="#{cargoControllerMike.car}" />	
					</p:commandButton>
					<p:commandButton value="Editar"
						action="#{cargoControllerMike.editar}"
						ajax="false">
						<f:setPropertyActionListener 
							value="#{car}" 
						    target="#{cargoControllerMike.car}" />                                                                                                                                                                                        
					</p:commandButton>
			 </p:column>
			
		</p:dataTable>
		<h:commandLink>
			<p:graphicImage title="Exportar para XML" name="/imagens/xml.png" width="24" />
			<p:dataExporter type="xml" target="catego" fileName="lista" />
		</h:commandLink>
	</h:form>
</h:body>
</html>
